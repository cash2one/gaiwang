// 插件集合
jQuery.easing["jswing"]=jQuery.easing["swing"];jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(x,t,b,c,d){return jQuery.easing[jQuery.easing.def](x,t,b,c,d)},easeOutCirc:function(x,t,b,c,d){return c*Math.sqrt(1-(t=t/d-1)*t)+b},easeOutQuad:function(x,t,b,c,d){return-c*(t/=d)*(t-2)+b},easeOutBounce:function(x,t,b,c,d){if((t/=d)<1/2.75){return c*7.5625*t*t+b}else if(t<2/2.75){return c*(7.5625*(t-=1.5/ 2.75) * t + .75) + b} else if (t < 2.5 /2.75){return c*(7.5625*(t-=2.25/2.75)*t+.9375)+b}else{return c*(7.5625*(t-=2.625/2.75)*t+.984375)+b}}});(function($){$.fn.extend({imgChange:function(o){o=$.extend({thumbObj:null,botPrev:null,botNext:null,effect:"fade",curClass:"act",thumbOverEvent:true,speed:400,autoChange:true,clickFalse:false,changeTime:5e3,delayTime:0,showTxt:false,visible:1,start:0,steps:1,circular:false,vertical:true,fqwidth:30,easing:"swing"},o||{});var _self=$(this);var _p=_self.parent();var _pp=_p.parent();var thumbObj;var size=_self.size();var nowIndex=0;var index;var startRun;var delayRun;var _img=_self.find("img");var b=false,animCss=o.vertical?"top":"left",sizeCss=o.vertical?"height":"width";var i;var g=o.vertical?_self.outerHeight(true):_self.outerWidth(true);if(o.showTxt){_p.after("<i class='bg'></i><a class='txt' href='"+_img.eq(0).parent().attr("href")+"'>"+_img.eq(0).attr("alt")+"</a>")}if(o.effect=="scroll"||o.effect=="wfScroll"){var v=o.visible;if(size<=v)return false;if(o.circular){if(o.effect=="scroll"){_p.prepend(_self.slice(size-v-1+1).clone()).append(_self.slice(0,v).clone());o.start+=v}else{_p.prepend(_self.clone())}}var f=_p.children(),itemLength=f.size(),curr=o.start,h=g*itemLength,j=g*v,scrollSize=g*size;f.css({overflow:"hidden","float":o.vertical?"none":"left",width:_self.width(),height:_self.height()});_p.css({margin:0,padding:0,position:"relative",listStyle:"none",overflow:"hidden",zoom:1,zIndex:1}).css(sizeCss,h+"px").css(animCss,-(curr*g));_pp.css({visibility:"visible",overflow:"hidden",position:"relative",zIndex:2,left:0}).css(sizeCss,j+"px")}else if(o.effect=="accordion"){_p.css(!o.vertical?{width:g+(size-1)*o.fqwidth+"px",overflow:"hidden"}:{height:g+(size-1)*o.fqwidth+"px",overflow:"hidden"});_self.css(!o.vertical?{width:o.fqwidth+"px","float":"left",overflow:"hidden"}:{height:o.fqwidth+"px","float":"none",overflow:"hidden"}).eq(0).addClass("act").animate(!o.vertical?{width:g+"px"}:{height:g+"px"},800,o.easing).end().click(function(){index=_self.index($(this));fadeAB();if(o.clickFalse){return false}});if(o.thumbOverEvent){_self.hover(function(){index=_self.index($(this));delayRun=setTimeout(fadeAB,o.delayTime)},function(){clearTimeout(delayRun)})}}else if(o.effect=="wb"){_p.css({position:"relative"});_pp.css({height:g*o.visible,overflow:"hidden",position:"relative"})}else{_self.hide().eq(0).show()}if(o.thumbObj&&!o.circular){thumbObj=$(o.thumbObj);thumbObj.removeClass(o.curClass).eq(0).addClass(o.curClass);thumbObj.click(function(){index=thumbObj.index($(this));fadeAB();if(o.clickFalse){return false}});if(o.thumbOverEvent){thumbObj.hover(function(){index=thumbObj.index($(this));delayRun=setTimeout(fadeAB,o.delayTime)},function(){clearTimeout(delayRun)})}}if(o.botNext){$(o.botNext).click(function(){if(_self.queue().length<1){runNext()}return false})}if(o.thumbObj&&o.circular)$.each($(o.thumbObj),function(i,a){$(a).mouseover(function(){$(o.thumbObj).removeClass(o.curClass).eq(i).addClass(o.curClass);return go(o.visible+i)})});if(o.botPrev){$(o.botPrev).click(function(){if(o.effect=="scroll"&&o.circular){return go(curr-o.steps)}else{if(_self.queue().length<1){index=(nowIndex+size-1)%size;fadeAB()}return false}})}if(o.effect=="wfScroll"){startRun=setInterval(marquee,o.changeTime);_pp.hover(function(){clearInterval(startRun)},function(){startRun=setInterval(marquee,o.changeTime)})}else if(o.autoChange){startRun=setInterval(runNext,o.changeTime);_p.add(thumbObj).add(o.botPrev).add(o.botNext).hover(function(){clearInterval(startRun)},function(){startRun=setInterval(runNext,o.changeTime)})}function fadeAB(){if(nowIndex!=index){if(o.thumbObj){$(o.thumbObj).removeClass(o.curClass).eq(index).addClass(o.curClass)}if(size<=index){nowIndex=index;return false}if(o.speed<=0){_self.eq(nowIndex).hide().end().eq(index).show()}else if(o.effect=="fade"){_self.stop(true,true).eq(nowIndex).fadeOut(o.speed).end().eq(index).fadeIn(o.speed)}else if(o.effect=="scroll"){_p.stop(true,true).animate(!o.vertical?{left:-(index*g)}:{top:-(index*g)},o.speed,o.easing)}else if(o.effect=="cutIn"){_self.css({zIndex:1,display:"block"}).stop(true,true).eq(nowIndex).css({zIndex:5,opacity:2}).end().eq(index).css({zIndex:6,top:"-"+g+"px"}).animate({opacity:1,top:0},o.speed,o.easing)}else if(o.effect=="alternately"){_self.css({display:"none"}).stop(true,true).eq(nowIndex).css({zIndex:10,display:"block"}).animate(!o.vertical?{left:"-"+g/2+"px"}:{top:"-"+g/2+"px"},o.speed,function(){$(this).css({zIndex:5}).animate(!o.vertical?{left:0}:{top:0},o.speed)}).end().eq(index).css({display:"block"}).animate(!o.vertical?{left:g/2+"px"}:{top:g/2+"px"},o.speed,function(){$(this).css({zIndex:10}).animate(!o.vertical?{left:0}:{top:0},o.speed)})}else if(o.effect=="accordion"){_self.stop(true,true).eq(nowIndex).removeClass("act").animate(!o.vertical?{width:o.fqwidth+"px"}:{height:o.fqwidth+"px"},o.speed,o.easing).end().eq(index).addClass("act").animate(!o.vertical?{width:g+"px"}:{height:g+"px"},o.speed,o.easing)}else if(o.effect=="wb"){_p.stop(true,true).animate({top:g+g/4+"px"},o.speed,function(){_p.children().last().prependTo(_p);_p.children().first().hide();_p.css({top:0}).children().first().fadeIn(800)})}else{_self.stop(true,true).eq(nowIndex).css({zIndex:10}).slideUp(o.speed).end().eq(index).css({zIndex:5}).slideDown(o.speed)}if(o.showTxt){var _txt=_img.eq(index).attr("alt");var _url=_img.eq(index).parent().attr("href");_p.siblings(".txt").html(_txt).attr("href",_url)}nowIndex=index}}function marquee(){if(o.vertical){if(_pp.scrollTop()>=scrollSize){_pp.scrollTop(_pp.scrollTop()-scrollSize+o.steps)}else{i=_pp.scrollTop();i+=o.steps;_pp.scrollTop(i)}}else{if(_pp.scrollLeft()>=scrollSize){_pp.scrollLeft(_pp.scrollLeft()-scrollSize+o.steps)}else{i=_pp.scrollLeft();i+=o.steps;_pp.scrollLeft(i)}}}function go(a){if(size<=o.steps)return false;if(!b){if(o.beforeStart)o.beforeStart.call(this,vis());if(o.circular){if(a<=o.start-v-1){_p.css(animCss,-((itemLength-v*2)*g)+"px");curr=a==o.start-v-1?itemLength-v*2-1:itemLength-v*2-o.steps}else if(a>=itemLength-v+1){_p.css(animCss,-(v*g)+"px");curr=a==itemLength-v+1?v+1:v+o.steps}else curr=a}else{if(a<0||a>itemLength-v)return;else curr=a}b=true;_p.animate(animCss=="left"?{left:-(curr*g)}:{top:-(curr*g)},o.speed,o.easing,function(){if(o.afterEnd)o.afterEnd.call(this,vis());b=false})}return false}function vis(){return f.slice(curr).slice(0,v)}function runNext(){index=(nowIndex+1)%size;if(o.effect=="scroll"&&o.circular){return go(curr+o.steps)}else{fadeAB()}}function css(a,b){return parseInt($.css(a[0],b))||0}}})})(jQuery);

$(document).ready(function(){
	 $('#shop .slides_container li ').imgChange({effect:'fade', speed:300, changeTime:3000 });
	  $('.zhans .slides_container div ').imgChange({thumbObj: '.zhans .pagination i', curClass: 'curr', effect:'fade', speed:1000, changeTime:3000 });
	  $('#flash a').imgChange({thumbObj: '#banner .bannerTitbg a', curClass: 'curr', effect: 'fade', speed: 1000, changeTime: 4000 });

});
